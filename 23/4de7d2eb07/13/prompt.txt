Implement the following plan:

# Playwright E2E ì „ë©´ ì •ë¹„ ê³„íš

## Context

í˜„ì¬ E2E í…ŒìŠ¤íŠ¸ 21ê°œ íŒŒì¼ ì¤‘ 4ê°œê°€ ì¤‘ë³µ/ë¶ˆì™„ì „, 6ê°œ ë¼ìš°íŠ¸ê°€ ë¯¸ì»¤ë²„.
ëª¨ë°”ì¼ ë°˜ì‘í˜• ìŠ¤í”„ë¦°íŠ¸(2026-02-22) ì´í›„ ì»¤ë²„ë¦¬ì§€ í™•ì¥ + ì •ë¦¬ + ë¬¸ì„œí™”ê°€ í•„ìš”.
ë‹´ë‹¹: ryejinn (test ì»¤ë°‹), YJ99Son (í”„ë¡ íŠ¸ ì»´í¬ë„ŒíŠ¸ data-testid ë³´ì™„)

---

## Phase 1: ì •ë¦¬ (ì‚­ì œ + ì´ë™)

### ì‚­ì œ ëŒ€ìƒ (4ê°œ íŒŒì¼)

| íŒŒì¼ | ì´ìœ  |
|------|------|
| `home.spec.js` | `comprehensive-fix-test.spec.js`ì— ë” ê°•í•œ home ê²€ì¦ í¬í•¨. ëŠìŠ¨í•œ `h1, h2, [class*="title"]` ì„ íƒì ì‚¬ìš© |
| `search.spec.js` | `search-flow.spec.js`ê°€ ë™ì¼ ì»¤ë²„. "textbox ì¡´ì¬ í™•ì¸"ë§Œ í•˜ëŠ” ë¹ˆì•½í•œ 2ê°œ í…ŒìŠ¤íŠ¸ |
| `tutor.spec.js` | ë¹„ê²°ì •ì  â€” "may or may not be visible" ì£¼ì„ ìˆëŠ” 1ê°œ í…ŒìŠ¤íŠ¸. `tutor-chat.spec.js`ë¡œ ëŒ€ì²´ |
| `onboarding.spec.js` | `mobile-full-flow.spec.js` FE-ONB-01~06ìœ¼ë¡œ ì™„ì „ ëŒ€ì²´ë¨. URL ì²´í¬ë§Œ í•˜ëŠ” 3ê°œ ì•½ í…ŒìŠ¤íŠ¸ |

### ì´ë™/ë¦¬ë„¤ì„

| íŒŒì¼ | ë³€ê²½ |
|------|------|
| `api-health.spec.js` | UI ë¬´ê´€ ìˆœìˆ˜ API í—¬ìŠ¤ì²´í¬ â†’ `tests/backend/test_api_smoke.py`ë¡œ ì´ë™. íŒŒì¼ ì‚­ì œ í›„ backendë¡œ í†µí•© |
| `bugfix-retest.spec.js` | `regression.spec.js`ë¡œ ë¦¬ë„¤ì„ (ëª©ì  ëª…í™•í™”) |

---

## Phase 2: ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ê°œì„  (3ê°œ íŒŒì¼)

### 2-A: `narrative-flow.spec.js` â€” ì„ íƒì ê°•í™”

**ë¬¸ì œ**: `button:has-text("ë‹¤ìŒ")` ê°™ì€ í…ìŠ¤íŠ¸ ì„ íƒì â†’ ë²ˆì—­/ë¦¬íŒ©í„°ë§ì— ì·¨ì•½
**ìˆ˜ì •**:
```js
// before
await page.click('button:has-text("ë‹¤ìŒ")');
// after
await page.getByRole('button', { name: 'ë‹¤ìŒ' }).click();
// ë˜ëŠ” (ì»´í¬ë„ŒíŠ¸ì— testid ì¶”ê°€ í›„)
await page.getByTestId('narrative-next-btn').click();
```
- URL/ì¿¼ë¦¬ íŒŒë¼ë¯¸í„° ê¸°ë°˜ ì´ë™ ê²€ì¦ ì¶”ê°€ (`expect(page).toHaveURL(/.*story/)`)

### 2-B: `tutor-visualization.spec.js` â€” í…ŒìŠ¤íŠ¸ í™•ì¥

**ë¬¸ì œ**: ë‹¨ì¼ ì¡°ê±´ë¶€ í…ŒìŠ¤íŠ¸, timeout 30000ms, ì°¨íŠ¸ ë Œë”ë§ ë¯¸ê²€ì¦
**ìˆ˜ì •**: 3ê°œ í…ŒìŠ¤íŠ¸ë¡œ í™•ì¥
```
FE-VIZ-01: íŠœí„°ì—ì„œ "ì°¨íŠ¸" í‚¤ì›Œë“œ ì…ë ¥ ì‹œ ì°¨íŠ¸ ë²„íŠ¼ ë…¸ì¶œ
FE-VIZ-02: ì°¨íŠ¸ ë²„íŠ¼ í´ë¦­ â†’ Plotly ì»¨í…Œì´ë„ˆ(.js-plotly-plot) ë Œë”ë§
FE-VIZ-03: ì°¨íŠ¸ ê¸°ê°„(1ê°œì›”/3ê°œì›”/1ë…„) ë³€ê²½ UI ë™ì‘
```
- timeout í‘œì¤€í™”: 15000ms (LLM ì‘ë‹µ)

### 2-C: `smoke.spec.js` â€” ë²”ìœ„ í™•ì¥

**ì¶”ê°€ í…ŒìŠ¤íŠ¸**:
```
FE-SMOKE-04: ë¯¸ì¸ì¦ ìƒíƒœë¡œ /home ì ‘ê·¼ â†’ /auth ë¦¬ë‹¤ì´ë ‰íŠ¸
FE-SMOKE-05: BottomNav 4ê°œ íƒ­(í™ˆ/í¬íŠ¸/í”„ë¡œí•„/ì•Œë¦¼) ì „í™˜ ë™ì‘
FE-SMOKE-06: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” /case/99999 â†’ 404 ë˜ëŠ” í™ˆ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

---

## Phase 3: ì‹ ê·œ í…ŒìŠ¤íŠ¸ íŒŒì¼ (6ê°œ ë¼ìš°íŠ¸ ì»¤ë²„)

### 3-A: `portfolio-trading.spec.js` (ì‹ ê·œ)

**ë¼ìš°íŠ¸**: `/portfolio`
**ì„ í–‰ì¡°ê±´**: ë¡œê·¸ì¸ í•„ìš” (beforeEachì—ì„œ auth ì²˜ë¦¬)

```
FE-PORT-01: í¬íŠ¸í´ë¦¬ì˜¤ í˜ì´ì§€ ë¡œë“œ + ë³´ìœ  ì¢…ëª© ì„¹ì…˜ í‘œì‹œ
FE-PORT-02: ì¢…ëª© ê²€ìƒ‰ â†’ StockDetail ëª¨ë‹¬ ì—´ê¸°/ë‹«ê¸°
FE-PORT-03: ë§¤ìˆ˜ ëª¨ë‹¬ UI (ë§¤ìˆ˜ ë²„íŠ¼ í´ë¦­ â†’ ëª¨ë‹¬ í‘œì‹œ í™•ì¸, ì‹¤ì œ ê±°ë˜ ë¶ˆí•„ìš”)
FE-PORT-04: ììœ ë§¤ë§¤ íƒ­ ì „í™˜ (ë³´ìœ /ë¯¸ë³´ìœ  ì „í™˜)
FE-PORT-05: ë­í‚¹ë³´ë“œ íƒ­ â†’ ì‚¬ìš©ì ëª©ë¡ í‘œì‹œ
FE-PORT-M01: ëª¨ë°”ì¼(360px) ë§¤ìˆ˜ ë²„íŠ¼ í„°ì¹˜ ì˜ì—­ 40px+ í™•ì¸
```

**íŒ¨í„´**:
```js
test.beforeEach(async ({ page }) => {
  await page.goto('/auth');
  await page.fill('input[name="nickname"]', `port_tester_${Date.now()}`);
  await page.fill('input[name="password"]', 'test1234');
  await page.getByRole('button', { name: 'ì‹œì‘í•˜ê¸°' }).click();
  await page.waitForURL('**/home');
  await page.goto('/portfolio');
});
```

### 3-B: `profile-settings.spec.js` (ì‹ ê·œ)

**ë¼ìš°íŠ¸**: `/profile`

```
FE-PROF-01: í”„ë¡œí•„ í˜ì´ì§€ ë¡œë“œ + ë‹‰ë„¤ì„ í‘œì‹œ
FE-PROF-02: ë‚œì´ë„ ë³€ê²½ (ì‰¬ì›€/ë³´í†µ/ì–´ë ¤ì›€) ì„ íƒ + ì €ì¥ â†’ toast í™•ì¸
FE-PROF-03: ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ â†’ Landing ë¦¬ë‹¤ì´ë ‰íŠ¸ + localStorage í´ë¦¬ì–´
FE-PROF-04: 1:1 ë¬¸ì˜ ì œì¶œ (í…ìŠ¤íŠ¸ ì…ë ¥ + ì „ì†¡)
FE-PROF-M01: ëª¨ë°”ì¼(390px) ë ˆì´ì•„ì›ƒ + ë²„íŠ¼ í„°ì¹˜ ì˜ì—­
```

### 3-C: `notifications.spec.js` (ì‹ ê·œ)

**ë¼ìš°íŠ¸**: `/notifications`

```
FE-NOT-01: ì•Œë¦¼ í˜ì´ì§€ ë¡œë“œ (ë¡œê·¸ì¸ í•„ìš”)
FE-NOT-02: ì•Œë¦¼ ì—†ì„ ì‹œ ë¹ˆ ìƒíƒœ ë©”ì‹œì§€ í‘œì‹œ
FE-NOT-03: ì•Œë¦¼ ëª©ë¡ í•­ëª©(ìˆì„ ê²½ìš°) â€” ë‚ ì§œ, ë‚´ìš© êµ¬ì¡° í™•ì¸
```

> Note: ì•Œë¦¼ ìƒì„±ì€ íŒŒì´í”„ë¼ì¸ ì˜ì¡´ â†’ ë¹ˆ ìƒíƒœ(empty state) ìœ„ì£¼ í…ŒìŠ¤íŠ¸

### 3-D: `education-flow.spec.js` (ì‹ ê·œ)

**ë¼ìš°íŠ¸**: `/education`, `/education/archive`

```
FE-EDU-01: êµìœ¡ í˜ì´ì§€ ë¡œë“œ + íƒ­/ì„¹ì…˜ ì¡´ì¬ í™•ì¸
FE-EDU-02: í™œë™ ì•„ì¹´ì´ë¸Œ(/education/archive) ë¡œë“œ
FE-EDU-03: ì•„ì¹´ì´ë¸Œ â€” ë‚ ì§œë³„ ìº˜ë¦°ë”/ë¦¬ìŠ¤íŠ¸ UI í‘œì‹œ
FE-EDU-M01: ëª¨ë°”ì¼(390px) ë ˆì´ì•„ì›ƒ
```

### 3-E: `case-redirect.spec.js` (ì‹ ê·œ)

**ë¼ìš°íŠ¸**: `/case/:caseId`

```
FE-CASE-01: /case/:id ì ‘ê·¼ â†’ /narrative/:id ë¦¬ë‹¤ì´ë ‰íŠ¸ í™•ì¸
FE-CASE-02: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” caseId â†’ ì˜¤ë¥˜ ë©”ì‹œì§€ ë˜ëŠ” í™ˆ ë¦¬ë‹¤ì´ë ‰íŠ¸
```

---

## Phase 4: ë¬¸ì„œí™”

### 4-A: `frontend/e2e/README.md` ì‹ ê·œ ì‘ì„±

ë‚´ìš©:
```markdown
# E2E í…ŒìŠ¤íŠ¸ ID ë§¤í•‘ í…Œì´ë¸”

| ID ë²”ìœ„ | íŒŒì¼ | ë¼ìš°íŠ¸ | ë””ë°”ì´ìŠ¤ |
|---------|------|--------|--------|
| FE-SMOKE-01~06 | smoke.spec.js | ì—¬ëŸ¬ | Desktop |
| FE-LAND-M01~05 | landing-mobile.spec.js | / | 9ì¢… ëª¨ë°”ì¼ |
| FE-ONB-01~06 | mobile-full-flow.spec.js | /onboarding | Mobile |
| FE-HOME-01~06 | home-keywords.spec.js, comprehensive | /home | Desktop |
| FE-AUTH-01~05 | auth-flow.spec.js | /auth | Desktop |
| FE-SEARCH-01~04 | search-flow.spec.js | /search | Desktop |
| FE-MATCH-01~08 | comprehensive-fix-test | /comparison | Desktop |
| FE-STORY-01~06 | comprehensive-fix-test | /story | Desktop |
| FE-COMP-01~08 | comprehensive-fix-test | /comparison | Desktop |
| FE-COMPANIES-01~04 | comprehensive-fix-test | /companies | Desktop |
| FE-NARR-01~03 | narrative-flow.spec.js | /narrative/:id | Desktop |
| FE-TUTOR-01~03 | tutor-chat.spec.js | /agent | Desktop |
| FE-AGENT-M01~04 | agent-canvas-mobile.spec.js | /agent | 9ì¢… ëª¨ë°”ì¼ |
| FE-QUIZ-M01~03 | daily-quiz-modal-mobile.spec.js | /home | 9ì¢… ëª¨ë°”ì¼ |
| FE-VIZ-01~03 | tutor-visualization.spec.js | /agent | Desktop |
| FE-PORT-01~05, M01 | portfolio-trading.spec.js | /portfolio | Desktop+Mobile |
| FE-PROF-01~04, M01 | profile-settings.spec.js | /profile | Desktop+Mobile |
| FE-NOT-01~03 | notifications.spec.js | /notifications | Desktop |
| FE-EDU-01~03, M01 | education-flow.spec.js | /education | Desktop+Mobile |
| FE-CASE-01~02 | case-redirect.spec.js | /case/:id | Desktop |
```

### 4-B: `docs/team-guides/A_í”„ë¡ íŠ¸ì—”ë“œ_ì†ì˜ì§„.md` ì—…ë°ì´íŠ¸

- E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ ì„¹ì…˜ ì¶”ê°€
- `data-testid` ì¶”ê°€ ê·œì¹™ (ì‹ ê·œ ì»´í¬ë„ŒíŠ¸ ì‘ì„± ì‹œ í•„ìˆ˜)

---

## Phase 5: íƒ€ì„ì•„ì›ƒ/ì„ íƒì í‘œì¤€í™”

**í‘œì¤€ íƒ€ì„ì•„ì›ƒ (ëª¨ë“  íŒŒì¼ì— í†µì¼)**:
```js
const TIMEOUT = {
  fast: 5_000,     // ì¦‰ê° DOM ë³€ê²½
  network: 10_000, // API ì‘ë‹µ ëŒ€ê¸°
  llm: 20_000,     // LLM ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ
};
```

**ì„ íƒì ìš°ì„ ìˆœìœ„** (Playwright ê¶Œì¥ ìˆœì„œ):
1. `getByRole()` â€” ARIA ì—­í•  ê¸°ë°˜ (ê°€ì¥ ê¶Œì¥)
2. `getByTestId()` â€” data-testid ì†ì„±
3. `getByText()` â€” í…ìŠ¤íŠ¸ ì½˜í…ì¸  (ì§§ì€ ê³ ìœ  í…ìŠ¤íŠ¸ë§Œ)
4. CSS ì„ íƒì â€” ìµœí›„ ìˆ˜ë‹¨

---

## íŒŒì¼ ë³€ê²½ ëª©ë¡

| íŒŒì¼ | ë³€ê²½ ì¢…ë¥˜ |
|------|----------|
| `frontend/e2e/home.spec.js` | âŒ ì‚­ì œ |
| `frontend/e2e/search.spec.js` | âŒ ì‚­ì œ |
| `frontend/e2e/tutor.spec.js` | âŒ ì‚­ì œ |
| `frontend/e2e/onboarding.spec.js` | âŒ ì‚­ì œ |
| `frontend/e2e/api-health.spec.js` | âŒ ì‚­ì œ (backendë¡œ ì´ë™) |
| `frontend/e2e/bugfix-retest.spec.js` | ğŸ”„ `regression.spec.js`ë¡œ ë¦¬ë„¤ì„ |
| `frontend/e2e/narrative-flow.spec.js` | âœï¸ ì„ íƒì ê°•í™” |
| `frontend/e2e/tutor-visualization.spec.js` | âœï¸ FE-VIZ-01~03ìœ¼ë¡œ í™•ì¥ |
| `frontend/e2e/smoke.spec.js` | âœï¸ FE-SMOKE-04~06 ì¶”ê°€ |
| `frontend/e2e/portfolio-trading.spec.js` | â• ì‹ ê·œ (FE-PORT-01~05, M01) |
| `frontend/e2e/profile-settings.spec.js` | â• ì‹ ê·œ (FE-PROF-01~04, M01) |
| `frontend/e2e/notifications.spec.js` | â• ì‹ ê·œ (FE-NOT-01~03) |
| `frontend/e2e/education-flow.spec.js` | â• ì‹ ê·œ (FE-EDU-01~03, M01) |
| `frontend/e2e/case-redirect.spec.js` | â• ì‹ ê·œ (FE-CASE-01~02) |
| `frontend/e2e/README.md` | â• í…ŒìŠ¤íŠ¸ ID ë§¤í•‘ ë¬¸ì„œ |
| `tests/backend/test_api_smoke.py` | âœï¸ api-health í…ŒìŠ¤íŠ¸ í†µí•© |
| `docs/team-guides/A_í”„ë¡ íŠ¸ì—”ë“œ_ì†ì˜ì§„.md` | âœï¸ E2E ê°€ì´ë“œ ì„¹ì…˜ ì¶”ê°€ |

---

## ì‹¤í–‰ ìˆœì„œ ë° ì»¤ë°‹ ì „ëµ

```
ì»¤ë°‹ 1 (ryejinn): test: ì¤‘ë³µÂ·ë¯¸ì™„ì„± E2E íŒŒì¼ ì œê±° (home, search, tutor, onboarding, api-health)
ì»¤ë°‹ 2 (ryejinn): test: ê¸°ì¡´ E2E ì„ íƒì ë° íƒ€ì„ì•„ì›ƒ í‘œì¤€í™” (narrative, tutor-viz, smoke)
ì»¤ë°‹ 3 (ryejinn): test: í¬íŠ¸í´ë¦¬ì˜¤Â·í”„ë¡œí•„Â·ì•Œë¦¼ E2E ì¶”ê°€ (FE-PORT/PROF/NOT)
ì»¤ë°‹ 4 (ryejinn): test: êµìœ¡Â·ì¼€ì´ìŠ¤ ë¦¬ë‹¤ì´ë ‰íŠ¸ E2E ì¶”ê°€ (FE-EDU/CASE)
ì»¤ë°‹ 5 (ryejinn): docs: E2E í…ŒìŠ¤íŠ¸ ID ë§¤í•‘ ë° ê°€ì´ë“œ ë¬¸ì„œí™”
```

---

## ê²€ì¦

```bash
# ë‹¨ê³„ë³„ ê²€ì¦ (ì„œë²„ ê¸°ë™ í•„ìš”: make dev-api + npm run dev)
npx playwright test --grep "FE-PORT" --reporter=list
npx playwright test --grep "FE-PROF" --reporter=list
npx playwright test --grep "FE-NOT" --reporter=list
npx playwright test --grep "FE-EDU" --reporter=list

# ì „ì²´ ì‹¤í–‰ (CI ê¸°ì¤€)
make test-e2e

# ì‚­ì œ í›„ ì»¤ë²„ë¦¬ì§€ í™•ì¸ (ê¸°ì¡´ íŒŒì¼ ì‚­ì œí•´ë„ ê¹¨ì§€ëŠ” ê²ƒ ì—†ëŠ”ì§€)
npx playwright test --reporter=html
```

---

## ì˜ˆìƒ ê²°ê³¼

| ì§€í‘œ | í˜„ì¬ | ëª©í‘œ |
|------|------|------|
| E2E spec íŒŒì¼ ìˆ˜ | 21ê°œ | 18ê°œ (5ê°œ ì‚­ì œ + 5ê°œ ì‹ ê·œ) |
| ì‹¤ì œ ìœ íš¨ í…ŒìŠ¤íŠ¸ ìˆ˜ | ~65ê°œ | ~90ê°œ |
| ì»¤ë²„ëœ ë¼ìš°íŠ¸ | 13/19 | 19/19 |
| ëª¨ë°”ì¼ ì „ìš© íŒŒì¼ | 3ê°œ | 5ê°œ (portfolio-trading, education-flow Mì‹œë¦¬ì¦ˆ ì¶”ê°€) |
| ì •ë¦¬ëœ íŒŒì¼ | 0 | 4ê°œ ì‚­ì œ, 1ê°œ ë¦¬ë„¤ì„ |


If you need specific details from before exiting plan mode (like exact code snippets, error messages, or content you generated), read the full transcript at: /home/hj/.REDACTED.jsonl

---

í…ŒìŠ¤íŠ¸ ì§„í–‰ì„ í•˜ê¸° ìœ„í•œ ê³„íšì„ ì„¸ì›Œë¼. ê·¸ë¦¬ê³  ë°°í¬ ì„œë²„ ë° ëª¨ë“  LXD ì„œë²„ ê° íŠ¹ì§•ì— ë§ê²Œ ì‹±í¬ë¥¼ ë§ì¶”ê³  gitì´ë‚˜ ë„ì»¤ë„ ë‹¤ì‹œ í•œ ë²ˆ ì‹±í¬ë¥¼ ë§ì¶°ì•¼ í•œë‹¤.
dashboard íƒ­ì— ê° LXD ì„œë²„ ë³„ë¡œ íŒ€ì›ë“¤ì´ ë³¸ì¸ì˜ ì„œë²„ë‚˜ ê´€ë ¨ëœ ê²ƒë“¤ì„ ì§ˆë¬¸í•˜ê¸° ìœ„í•œ ì±—ë´‡ íƒ­ì„ ë§Œë“¤ì–´ì£¼ë©´ ì¢‹ì„ ê²ƒ ê°™ì€ë°, ì–´ë–»ê²Œ ìƒê°í•˜ëŠ”ê°€?
ëª¨ë¸ì€ claude sonnet 4.6ì´ë©´ ì¶©ë¶„í•˜ê³ ë„ ë‚¨ì„ ê²ƒ ê°™ë‹¤. ëŒ€í™” ì„¸ì…˜ì´ë‚˜ íƒ­ë„ ë§Œë“¤ì–´ì£¼ëŠ” ê²ƒì´ë‹¤.
ê·¸ë¦¬ê³  streamlit ì½”ë“œ ë° UI ë“±ì„ ì¢€ ë” ìµœì í™”í•  í•„ìš”ê°€ ìˆì„ ê²ƒ ê°™ë‹¤. ì±—ë´‡ì€ ë‚´ë¶€ìš©ì´ë‹ˆ ì •ë§ ê°„ë‹¨í•˜ê²Œ ë””ìì¸ì„ ë§Œë“¤ì–´ë¼.

---

[Request interrupted by user for tool use]