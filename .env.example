# ============================================================================
# Adelie Investment - "History Repeats Itself"
# 환경 변수 템플릿 (2026-02-11)
#
# 설정 방법:
#   1. 이 파일을 복사: cp .env.example .env
#   2. 아래 [필수 입력] 항목에 실제 값 입력
#   3. .env 파일은 절대 git에 커밋하지 않기
# ============================================================================

# ── 포트 설정 ──
FASTAPI_PORT=8082
FRONTEND_PORT=3001

# ── Frontend (Vite - VITE_* prefix 필수) ──
# 개발 환경: 빈 값 (Vite proxy 사용)
# 프로덕션: nginx reverse proxy 사용 (빈 값 유지)
VITE_FASTAPI_URL=

# ── AI API Keys [필수 입력] ──
OPENAI_API_KEY=sk-xxx-REPLACE
PERPLEXITY_API_KEY=pplx-xxx-REPLACE
CLAUDE_API_KEY=                          # 선택 (Writer 에이전트용)
GOOGLE_API_KEY=                          # 선택 (Google Gemini용, 향후 사용)

# ── AI Model Settings ──
OPENAI_MAIN_MODEL=gpt-4o-mini
OPENAI_VISION_MODEL=gpt-4o
OPENAI_EMBEDDING_MODEL=text-embedding-3-small
OPENAI_FALLBACK_MODEL=gpt-5.2            # Pipeline JSON 복구/Anthropic 대체 경로에서 사용
OPENAI_TIMEOUT_SECONDS=180               # Pipeline/Backend OpenAI 요청 타임아웃(초)
PERPLEXITY_TIMEOUT_SECONDS=60            # Perplexity 요청 타임아웃(초)
PERPLEXITY_MODEL=sonar-pro
GOOGLE_DEFAULT_MODEL=gemini-2.5-flash    # 선택 (Google 기본 모델)

# ── LangSmith (LangGraph 트레이싱) [필수 입력] ──
LANGCHAIN_API_KEY=lsv2_xxx-REPLACE
LANGCHAIN_TRACING_V2=true
LANGCHAIN_PROJECT=adelie-pipeline
LANGCHAIN_ENDPOINT=https://api.smith.langchain.com

# ── Database (PostgreSQL + pgvector) ──
DATABASE_URL=postgresql+asyncpg://narative:password@postgres:5432/narrative_invest
DB_HOST=postgres
DB_PORT=5432
DB_NAME=narrative_invest
DB_USER=narative
DB_PASSWORD=password

# ── Redis ──
REDIS_URL=redis://redis:6379/1

# ── MinIO (S3 호환 스토리지) ──
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123

# ── JWT [필수] ──
JWT_SECRET=<generate-with-openssl-rand-hex-32>
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60

# ── KIS (한국투자증권, 선택) ──
KIS_APP_KEY=
KIS_APP_SECRET=

# ── Application ──
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
CORS_ALLOWED_ORIGINS=http://localhost:3001,http://localhost:8082

# ============================================================================
# 입력 필요 항목 요약
# ============================================================================
# 필수:
#   - OPENAI_API_KEY
#   - PERPLEXITY_API_KEY
#   - LANGCHAIN_API_KEY
# 선택:
#   - CLAUDE_API_KEY (Writer 에이전트용)
#   - GOOGLE_API_KEY (Gemini용, 향후 사용)
#   - KIS_APP_KEY / KIS_APP_SECRET (모의매매용)
