ADELIE 앱 기획 방향 v3 — 개발 전달 문서

이 문서는 기획팀에서 개발팀에 전달하는 방향 문서입니다. 
구체적인 코드 구조, 컴포넌트 네이밍, 디렉토리 구조 등은 현재 코드베이스를 기준으로 개발팀이 판단해주세요.
⸻
1. 한줄 요약

"콘텐츠를 보여주는 앱"에서 "AI 에이전트가 함께 배우는 앱"으로 전환합니다.

final_briefings 파이프라인(백엔드)은 변경 없이 유지합니다. 프론트엔드에서 이 데이터를 카드뉴스로 렌더링하는 대신, 에이전트의 지식(context)으로 주입하여 사용자와의 대화를 통해 학습을 이끌어가는 방식으로 전환합니다.
⸻
2. 왜 바꾸나 — 현재 구조의 핵심 문제

현재 앱의 문제는 개별 기능의 부족이 아니라, 기능들이 서로 단절되어 있다는 것입니다.

문제 1: 탭별 단절
교육, 홈, 모의투자 3개 탭이 각각 독립적으로 작동합니다. 교육 탭에서 배운 개념이 모의투자에 연결되지 않고, 모의투자 결과가 학습으로 이어지지 않습니다. 사용자 입장에서 3개의 별개 앱을 번갈아 쓰는 느낌입니다.

문제 2: 학습→투자 루프 부재
"배우고 → 해보고 → 다시 배우는" 순환이 불가능합니다. 뉴스레터에서 PER을 배워도, 모의투자에서 그걸 적용해보는 경험으로 이어지지 않습니다. 학습 동기가 약하고, 모의투자는 그냥 '감'으로 하게 됩니다.

문제 3: 콘텐츠가 '읽기'에 머물러 있음
6페이지 내러티브는 품질이 높지만, 사용자가 수동적으로 스크롤만 하는 구조입니다. 이해했는지 확인할 방법도 없고, 능동적 학습 요소(질문, 확인, 피드백)가 없습니다. YouTube 보는 것과 차별화가 어렵습니다.

문제 4: ChatFAB의 맥락 부재
모든 페이지에 ChatFAB이 떠있지만, 열면 빈 채팅창입니다. 현재 화면과 무관한 범용 챗봇이라 "뭘 물어봐야 하지?"가 됩니다. ChatGPT/Perplexity와 차별화가 안 되고, 사용률이 저조합니다.

문제 5: Home에 우선순위가 없음
자산카드, 학습일정, 퀴즈, 카드뉴스가 나열되어 있지만 "오늘 뭘 해야 하지?"라는 동선이 없습니다. 앱을 열고 → 뭘 할지 모르겠고 → 이탈하는 패턴이 발생합니다.

근본 원인: "연결 고리"의 부재

5가지 문제 모두 하나의 원인을 공유합니다 — 기능들을 연결해주는 존재가 없다는 것.

이 "연결" 역할을 하는 것이 AI 에이전트입니다. 에이전트는 새로운 기능이 아니라, 기존 기능들을 하나로 잇는 접착제입니다.
문제	에이전트가 해결하는 방식
탭별 단절 (교육/홈/모의투자)	에이전트가 모든 화면에 관통하며 기능 간 연결
학습→투자 루프 부재	"이 개념이 내 포트폴리오랑 어떤 관련?" 연결
읽기만 하는 콘텐츠	질문으로 사고 유도, "모르겠다"도 학습 진입점
ChatFAB 맥락 부재	맥락별 CTA + 칩으로 "이걸 물어보면 된다"
Home 우선순위 부재	"오늘의 이슈" 1장 + 에이전트 CTA로 명확한 동선
⸻
3. 뭘 바꾸나 — 변경 범위

3-1. 네비게이션 구조

현재: BottomNav 3탭 — 교육 / 홈 / 모의투자 
변경: BottomNav 3탭 — 홈 / 투자 / MY

변경 의도:
- 교육 탭 제거: 6페이지 카드뉴스 렌더링 등 교육 콘텐츠를 직접 보여주는 방식 제거. 이 콘텐츠는 에이전트의 지식으로 전환.
- 홈을 첫 번째 탭으로: 앱 열면 바로 "오늘의 이슈" + 에이전트 CTA가 보이도록.
- 모의투자 → 투자: 기존 구조는 유지하되 이름 변경 + 에이전트 진입점 추가.
- MY 신규: 학습 이력, 설정, 프로필.

구체적인 코드 변경 범위는 현재 코드베이스를 확인하여 개발팀에서 판단해주세요.

3-2. 홈 화면 재설계

현재: 자산카드 + 학습일정 + 데일리퀴즈 + 카드뉴스 3장 (4개 섹션 나열) 
변경: 포트폴리오 요약 + 오늘의 이슈 카드 1장 + "아델리와 알아보기" CTA 버튼

변경 의도:
- "오늘 뭘 해야 하지?"에 대한 답을 홈에서 바로 줌
- 카드뉴스 3장 나열 대신, 오늘의 핵심 이슈 1장만 보여주고 에이전트 대화로 유도
- 에이전트가 먼저 시작: "오늘 반도체 쪽에 큰 움직임이 있었는데, 같이 볼까요?"

3-3. 투자 탭에 에이전트 진입점 추가

현재: 종목 상세 화면에 가격/차트/정보만 표시 
변경: 종목 상세에 "이 종목 물어보기" CTA 버튼 추가

변경 의도:
- 매매를 고민하는 순간에 에이전트가 개입할 수 있는 진입점 제공
- 에이전트는 해당 종목 관련 뉴스/개념/과거 사례를 context로 로드하여 교육 대화 진행

3-4. ChatFAB 제거 → 미니멀 입력바 + 팝오버 채팅

현재: 모든 페이지에 플로팅 ChatFAB 버튼 → 빈 채팅창 
변경: 화면 하단 미니멀 입력바 (항상 노출) → 입력 또는 CTA 탭 시 팝오버 채팅 오픈

변경 의도:
- 빈 채팅창 대신, 입력바의 placeholder가 맥락에 따라 변경됨
    - 홈: "오늘 브리핑에서 궁금한 점이 있나요?"
    - 투자 탭: "종목명이나 궁금한 점을 입력하세요"
- CTA 버튼을 탭하면 같은 팝오버가 열리되, 첫 메시지가 미리 채워져 있음
- 두 진입점(CTA 탭 / 직접 입력) 모두 같은 팝오버 채팅 화면으로 수렴
⸻
4. 에이전트 동작 스펙

4-1. 하나의 에이전트, 두 가지 모드
진입	모드	에이전트 역할	로드할 데이터
홈 "아델리와 알아보기"	데일리 학습	오늘의 시장 이슈를 대화로 풀어줌	final_briefings 오늘자 전체 토픽
투자 탭 "이 종목 물어보기"	종목 튜터	해당 종목의 매매 판단을 교육적으로 도움	해당 종목 관련 curated_context 필터링 + 사용자 보유 정보

기술적으로는 같은 에이전트 인스턴스에 system context만 다르게 주입하는 구조입니다.

4-2. 에이전트의 핵심 원칙 (프롬프트 설계 시 반영)

1. 답을 주지 않는다 — 질문으로 사고를 유도합니다
    - ❌ "삼성전자 PER은 15배입니다"
    - ✅ "지금 PER이 15배인데, 반도체 평균이 12배거든요. 비싸다고 생각해요?"

2. "모르겠다"가 유효한 선택지 — 학습 진입점으로 연결
    - 사용자가 "모르겠다"를 선택하면 → 개념 설명 카드로 전환
    - 부끄러운 UX가 아니라 자연스러운 학습 경험

3. 3-depth 제한 — 끝없는 대화 방지
    - 3번 deeper 진입 후에는 요약 카드를 보여주고 종료 또는 다음 토픽 제안
    - "더 알아보고 싶으면 내일 다시 물어봐주세요" 식의 자연스러운 마무리

4. 매수/매도를 직접 권유하지 않는다 — 판단 기준을 알려줌
    - 에이전트는 교육자이지 투자 조언가가 아님
    - "이런 기준으로 판단해보세요"까지만, "사세요/파세요"는 하지 않음

4-3. 에이전트 응답 구성 요소

에이전트의 매 응답은 다음 요소로 구성됩니다:

- 메시지: 에이전트의 텍스트 응답 (질문 형태 권장)
- 칩 버튼 (2~4개): 사용자가 탭으로 응답할 수 있는 선택지. 타이핑 없이 90%의 대화가 가능해야 함
- 카드 (선택적): 개념 설명, 차트, 뉴스 요약 등 시각적 데이터. 사용자가 요청하거나 맥락상 필요할 때만 표시
- 대화 깊이(depth): 현재 몇 단계까지 진행했는지 추적. 3 도달 시 종료 유도

4-4. 대화 예시

종목 상세에서 "이 종목 물어보기" 탭:

사용자: "삼성전자 지금 사도 돼?"

에이전트: "지금 PER이 15배인데, 반도체 평균이 12배거든요.
         이게 비싼 건지 싼 건지, 어떻게 생각해요?"

         [비싸다]  [적정하다]  [모르겠다]

사용자: [모르겠다] 탭

에이전트: "PER이 뭔지부터 같이 볼까요? 쉽게 말하면..."
         → 개념 설명 카드 표시 (기존 glossary 데이터 활용)

         [이해했다]  [더 자세히]


홈에서 "아델리와 알아보기" 탭:

에이전트: "오늘 반도체 업종에서 큰 움직임이 있었어요.
         외국인이 대규모 매도했는데, 왜 그랬을까요?"

         [금리 때문?]  [실적 때문?]  [모르겠다]

사용자: [금리 때문?] 탭

에이전트: "맞아요! 미국 금리 동결 이슈가 영향을 줬어요.
         근데 하나 질문 — 금리가 오르면 반도체 주가에
         보통 좋을까요 나쁠까요?"

         [좋다]  [나쁘다]  [상관없다]

⸻
5. 데이터 파이프라인 — 변경 없음, 사용 방식만 변경

핵심: 백엔드 파이프라인은 그대로 유지

final_briefings JSON 생성 파이프라인은 수정하지 않습니다. 프론트엔드에서 이 데이터를 사용하는 방식만 바뀝니다.

사용 방식 변경
파이프라인 필드	기존: 프론트에서 렌더링	변경: 에이전트 context로 주입
curated_context.news	카드뉴스에 요약 표시	에이전트가 시장 상황 설명 시 근거로 활용
curated_context.concept	용어 하이라이트 툴팁	대화 중 모르는 용어 나오면 자연스럽게 설명
curated_context.reports	본문에 포함	에이전트가 근거 제시 시 인용
raw_narrative (과거 사례)	6페이지 내러티브로 렌더링	"비슷한 일이 2020년에도 있었는데..." 식으로 대화에 활용
chart (Plotly JSON)	직접 차트 렌더링	사용자가 요청할 때만 차트 카드로 표시
glossary	용어 툴팁으로 표시	개념 설명 카드로 변환 ("모르겠다" 선택 시 등장)

에이전트 context 주입 방식

- 홈 모드: 오늘자 final_briefings의 모든 토픽을 system context로 전달
- 종목 튜터 모드: final_briefings에서 해당 종목 관련 토픽만 필터링 + 사용자의 포트폴리오 정보(보유 여부, 평균 매수가, 수익률) 추가
⸻
6. 단계별 로드맵

Phase 1: 코어 전환 (4주)

새 기능 추가 없이, 기존 기능의 UX만 전환합니다.

주요 작업:
- 탭 재편성: 교육/홈/모의투자 → 홈/투자/MY (교육 탭 제거, 에이전트로 통합)
- 홈 화면 재설계 (이슈 카드 1장 + 에이전트 CTA)
- 투자 탭 종목 상세에 에이전트 CTA 추가
- ChatFAB → 미니멀 입력바 + 팝오버 채팅 전환
- 에이전트 MVP: context 주입 + 칩 기반 응답

Go/No-Go 기준:
- 에이전트 대화 시작률 > 40%
- 세션 체류 시간 기존 대비 +20%
- 기존 6페이지 내러티브 vs 에이전트 A/B 테스트 비교

Phase 2: 에이전트 고도화 (6주)

- 매수/매도 버튼 누를 때 에이전트 개입 ("한번 확인해볼까요?")
- 학습 이력 추적 (사용자가 배운 개념/종목 기록)
- 포트폴리오 기반 퀴즈 ("내가 보유한 A종목의 PER은?")
- 복습 제안 ("어제 배운 개념 복습 카드")

Phase 3: 소셜 + 확산 (6주)

- 포트폴리오 공유 (친구에게 한 탭으로 공유)
- 모의투자 수익률 리더보드 (친구 간 경쟁)
- 초대 기반 온보딩 + 레퍼럴 보상

Phase 4: 프리미엄 + 생태계 (8주+)

- 프리미엄: 무제한 AI 대화 / 고급 분석(재무제표, 밸류에이션) / 광고 제거
- 주간 챌린지 이벤트
- 뉴스 제휴 재추진 (사용자 기반 확보 후 협상력 상승)
⸻
7. 제거/변경/신규 기능 요약

제거 대상
- 교육 탭 전체 (6페이지 내러티브 카드뉴스 렌더링 등 → 에이전트 대화로 대체)
- ChatFAB (플로팅 AI 튜터 버튼)

변경 대상
- BottomNav: 교육/홈/모의투자 → 홈/투자/MY
- 홈 화면: 대시보드 나열 → 이슈 카드 1장 + CTA
- 종목 상세 화면: 에이전트 CTA 버튼 추가
- 브리핑 데이터 API: 렌더링용 전체 데이터 → 홈 카드용 요약만 반환 (전체는 에이전트가 직접 로드)

신규 대상
- 미니멀 입력바 (화면 하단 고정)
- 팝오버 채팅 UI (에이전트 응답 + 칩 버튼)
- 에이전트 서비스 (context 주입 + LLM 호출 + 응답 생성)
- 학습 이력 화면 (MY 탭)
⸻
8. 핵심 원칙 (개발 시 항상 참고)

1. 에이전트는 "새 기능"이 아니라 "접착제" — 기존 기능들을 연결하는 역할
2. 답을 주지 않는다 — 질문으로 사고를 유도한다
3. 타이핑 최소화 — 90%는 칩/버튼으로 응답 가능해야 함
4. 파이프라인 변경 없음 — final_briefings 백엔드는 그대로, 프론트 사용 방식만 변경
5. 3-depth 제한 — 끝없는 대화 방지
6. "모르겠다"는 유효한 선택지 — 학습 진입점이 됨
7. 두 진입점, 하나의 에이전트 — 홈(데일리 학습) / 투자(종목 튜터), context만 다르게 주입
